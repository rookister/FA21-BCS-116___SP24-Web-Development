<section id="contact" class="section-padding mb-5">
  <div class="container">
    <div class="row">
      <div class="col-12" data-aos="fade-down" data-aos-delay="150">
        <div class="section-title">
          <h1 class="display-4 text-white fw-semibold">Create A New Article!</h1>
          <hr>
          <div id="successMessage" class="alert alert-success" style="display: none;">
            Article Uploaded Successfully!
          </div>
        </div>
      </div>
    </div>
    <div class="row" data-aos="fade-down" data-aos-delay="250">
      <div class="col-12">
        <form id="contactForm" class="row g-3 mt-5 bg-transparent theme-shadow" action="/admin-api/upload-article" method="POST" enctype="multipart/form-data">
          <div class="form-group col-12 ">
            <label class="form-check-label" for="title">Title</label>
            <input id="title" name="title" type="text" class="form-control" placeholder="" required>
          </div>
          <div class="form-group col-12">
            <label class="form-check-label" for="subtitle">Subtitle</label>
            <input id="subtitle" name="subtitle" type="text" class="form-control" placeholder="" required>
          </div>

          <div class="row mt-5 p-3">
            <div class="form-group col-5">
              <div class="row">
                <label class="lg-12 p-1 mb-1">Featured Image</label>
                <div class="drop-zone">
                  <span class="drop-zone__prompt">Drop File or Click to Upload Image</span>
                  <input type="file" name="featuredImage" class="drop-zone__input">
                </div>
              </div>
            </div>

            <div class="form-group col-7">
              <label class="form-check-label" for="body">Content</label>
              <textarea id="body" name="body" rows="7" class="form-control" placeholder="Enter Message" required></textarea>
            </div>
          </div>

          <div class="form-group col-lg-12">
            <label class="form-check-label" for="category">Category:</label>
            <div class="row">
              <div class="col-12">
                <div class="form-check form-check-inline spacingRadio">
                  <input class="form-check-input" type="radio" name="category" id="animeCategory" value="Anime">
                  <label class="form-check-label" for="animeCategory">Anime</label>
                </div>
                <div class="form-check form-check-inline ml-5 spacingRadio2">
                  <input class="form-check-input" type="radio" name="category" id="gameCategory" value="Games">
                  <label class="form-check-label" for="gameCategory">Games</label>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group mt-5">
            <button id="sButton" type="submit" class="mt-2 btn btn-lg btn-outline-dark">Create</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const messageElement = document.getElementById('successMessage');
    if (urlParams.has('success')) {
      if (urlParams.get('success') === 'true') {
        messageElement.classList.add('article-upload-success');
        messageElement.style.display = 'block';
      }
      else if (urlParams.get('success') === 'false') {
        messageElement.textContent = `Article Upload Failed!`;
        messageElement.classList.add('article-upload-fail');
        messageElement.style.display = 'block';
      }
    }
});
</script>

<script src="../scripts/fileUpload.js"></script>
